<!--miniprogram/pages/user/user.wxml-->
<view class="wrap">
  <view class="user-bg">
    <image mode="aspectFill" src="{{userInfo.profile ? userInfo.profile : userProfile}}"></image>
  </view>
  <movable-area class="user-box">
    <movable-view
      direction="vertical" 
      inertia 
      out-of-bounds
      function="10"
      class="user-info"
      y="700"
      bindchange="moving"
    >
      <view class="profile">
        <button
          class="userinfo-avatar"
          style="background-image: url({{userInfo.avatarUrl}})"
        ></button>
      </view>
      <view class="main">
        <view class="user-detail">
          <text class="nick-name">{{userInfo.nickName}}</text>
          <text class="discript"></text>
        </view>
      </view>
      <view class="user-content">
        <view wx:if="{{logged}}">
          用户的信息，如参与活动，收藏的文章等
          <button class="cu-btn round line-red" bindtap="toAddPicArticle">发表图文</button>
        </view>
        <view class="login-box" wx:else>
          <button
            class="login-btn"
            open-type="getUserInfo" 
            bindgetuserinfo="onGetUserInfo"
            style="background-image: url({{avatarUrl}})"
          > 点我登录</button>
        </view>
        <van-tabs swipeable>
          <van-tab title="作品">
            <scroll-view style="height: {{contentHeight}}" scroll-y="true">
              <photos-comp image-list="{{imageList}}" />
            </scroll-view>
          </van-tab>
          <van-tab title="活动">
            <scroll-view style="height: {{contentHeight}}" scroll-y="true">
              <photos-comp image-list="{{activityList}}" />
              <van-panel title="标题" desc="描述信息" status="状态">
                <view>内容</view>
              </van-panel>
              <view>
                <view class="yin-cell">
                  <view class="yin-cell__title">
                    活动
                    <view class="yin-cell__label">不一样的活动</view>
                  </view>
                  <view class="van-cell__value panel-index--van-panel__header-value">进行中</view>
                </view>
                <view class="yin-content">
                  <van-card
                    num="2"
                    tag="标签"
                    desc="描述信息"
                    title="商品标题"
                    thumb="https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTL0msB8jbgywsOpnhwpBBiaibGriciam9qibUZpFe3zAibXcGAmMhstwOXLzcoxGHKtBkIJqCwfm66v1rzA/132"
                  >
                    <view slot="footer">
                      <van-button size="mini">按钮</van-button>
                      <van-button size="mini">按钮</van-button>
                    </view>
                  </van-card>
                </view>
              </view>
            </scroll-view>
          </van-tab>
        </van-tabs>
      </view>
    </movable-view>
  </movable-area>
</view>
